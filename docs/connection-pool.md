# Connection pool

Пул предназначен для работы с множеством соединений с базой данных. Множественность позволяет использовать `read-only` или `write-only` пользователей, обеспечить большую безопасность и распределенность данных.

## Создание пула

Для создания пула необходимо вызвать следующий код:

```php
use jugger\db\ConnectionPool;

ConnectionPool::getInstance()->init([
    'default' => [
        'class' => 'jugger\db\pdo\PdoConnection',
        'dsn' => 'sqlite::memory:',
    ],
    // общая схема соединения
    'имя соединения' => [
        'class' => 'путь\до\класса',
        'параметр1' => 'значение1',
        'параметр2' => 'значение2',
        // ...
    ]
]);
```

Инициализируется пул один раз. Обязательно должно присутствовать соединение с именем `default` - это основное соединение, которое по умолчанию используется всеми модулями фреймворка.

Получить конкретное соединение можно 2-мя способами:
```php
$pool = ConnectionPool::getInstance();
$conn = $pool['connection-name'];

$conn = ConnectionPool::get('connection-name');
```
